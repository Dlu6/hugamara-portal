# Slave Backend Environment Configuration
# Copy this file to .env and fill in your values

# ========== DATABASE CONFIGURATION ==========
DB_HOST=localhost
DB_NAME=reach_mi_slave
DB_USER=root
DB_PASSWORD=your_password
DB_PORT=3306

# ========== REDIS CONFIGURATION ==========
# Redis is required for enhanced session management
# If Redis is not available, the system will fall back to database-only session management
REDIS_HOST=localhost
REDIS_PORT=6379
# Optional: Redis password if authentication is enabled
# REDIS_PASSWORD=your_redis_password

# ========== SERVER CONFIGURATION ==========
BACKEND_PORT=8004
NODE_ENV=development

# ========== MASTER SERVER CONNECTION ==========
# URL of the master licensing server
MASTER_SERVER_URL=http://localhost:8001
# Internal API key for master-slave communication
INTERNAL_API_KEY=your_internal_api_key
# WebSocket URL for real-time updates
MASTER_WEBSOCKET_URL=ws://localhost:8001

# ========== LICENSE CACHE CONFIGURATION ==========
# How long to cache license data (in milliseconds)
LICENSE_CACHE_TTL=1800000
# Background sync interval (in milliseconds)
BACKGROUND_SYNC_INTERVAL=900000

# ========== SESSION MANAGEMENT ==========
# Session cleanup interval (in milliseconds) - more frequent for better cleanup
SESSION_CLEANUP_INTERVAL=900000
# Session TTL (in seconds)
SESSION_TTL=86400

# ========== ASTERISK CONFIGURATION ==========
# AMI connection details
AMI_HOST=localhost
AMI_PORT=5038
AMI_USERNAME=admin
AMI_PASSWORD=your_ami_password

# ========== LOGGING ==========
LOG_LEVEL=info
LOG_FILE_PATH=./logs/slave-backend.log

# ========== SECURITY ==========
# JWT secret for session tokens
JWT_SECRET=your_jwt_secret_key_here
# Session secret for express-session
SESSION_SECRET=your_session_secret_here

# ========== CORS CONFIGURATION ==========
# Allowed origins for CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# ========== RATE LIMITING ==========
# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========== TWILIO CONFIGURATION ==========
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_WHATSAPP_NUMBER=+15558950564

# Webhook URL for status callbacks (must be publicly accessible)
# For local development with ngrok: https://your-ngrok-url.ngrok.io
# For production: https://cs.hugamara.com
TWILIO_WEBHOOK_URL=https://your-public-url.com
